{% extends 'base.html' %}

{% block title %}Dashboard - Online Voting System{% endblock %}

{% block content %}
<!-- Dashboard Header -->
<header class="dashboard-header bg-primary text-white py-3">
    <div class="container d-flex justify-content-between align-items-center">
        <!-- Logo -->
        <div class="logo">
            <h1 class="m-0">Online Voting System</h1>
        </div>
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-light">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white fw-bold nav-hover" href="{% url 'dashboard' %}">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white fw-bold nav-hover" href="{% url 'vote' %}">Vote</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white fw-bold nav-hover" href="{% url 'logout' %}">Logout</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>

<!-- Dashboard Container -->
<div class="dashboard-container mt-4">
    <div class="container">
        <!-- Welcome Section -->
        <div class="welcome-section mb-4 p-4 bg-light rounded shadow-sm">
            <h2 class="mb-3">Hello, {{ user.first_name }} {{ user.last_name }}! üëã</h2>
            <p class="text-muted">You're logged in as a member of <strong>{{ user.faculty }}</strong>.</p>
        </div>

        <!-- Voting Status Card -->
        <div class="dashboard-content p-4 bg-white rounded shadow-sm">
            <h3 class="mb-3">Your Voting Status</h3>
            {% if voter.has_voted %}
                <p class="text-success fw-bold">‚úÖ You have already voted. Thank you for participating!</p>
            {% else %}
                <p class="text-warning fw-bold">
                    ‚ö†Ô∏è You have not voted yet. 
                    <a href="{% url 'vote' %}" class="btn btn-primary btn-sm ms-2">Click here to vote</a>.
                </p>
            {% endif %}
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="bg-dark text-white text-center py-3 mt-5">
    <div class="container">
        <p class="m-0">&copy; {% now "Y" %} Online Voting System. All rights reserved.</p>
    </div>
</footer>


<style>
    /* Custom Styling */
.dashboard-header {
    background: linear-gradient(to right, #007bff, #0056b3);
}

.welcome-section {
    border-left: 5px solid #007bff;
}

.dashboard-content {
    border-left: 5px solid #28a745;
}

.btn-primary {
    background-color: #007bff;
    border: none;
}

.btn-primary:hover {
    background-color: #0056b3;
}

/* Navbar Hover Effect */
.nav-hover {
    transition: 0.3s ease-in-out;
    padding: 8px 15px;
    border-radius: 5px;
}

.nav-hover:hover {
    background-color: rgba(255, 255, 255, 0.2);
    text-decoration: none;
    transform: scale(1.05);
}

</style>
{% endblock %}
